{"ast":null,"code":"export default {\n  data() {\n    return {\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\n      coachData: [],\n      content: null,\n      coachId: null,\n      fromVisible: false\n    };\n  },\n  mounted() {\n    this.loadCoach();\n  },\n  methods: {\n    loadCoach() {\n      this.$request.get('/coach/selectAll').then(res => {\n        if (res.code === '200') {\n          this.coachData = res.data;\n        } else {\n          this.$message.error(res.msg);\n        }\n      });\n    },\n    reserveInit(coachId) {\n      if (this.user.role !== 'USER') {\n        this.$message.warning('Access denied: Only students can enroll in courses');\n        return;\n      }\n      this.coachId = coachId;\n      this.fromVisible = true;\n    },\n    submit() {\n      const data = {\n        userId: this.user.id,\n        coachId: this.coachId,\n        content: this.content\n      };\n      this.$request.post('/reserve/add', data).then(res => {\n        if (res.code === '200') {\n          this.$message.success('Enrollment confirmed! Your teacher will contact you soon.');\n          this.coachId = null;\n          this.content = null;\n          this.fromVisible = false;\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["data","user","JSON","parse","localStorage","getItem","coachData","content","coachId","fromVisible","mounted","loadCoach","methods","$request","get","then","res","code","$message","error","msg","reserveInit","role","warning","submit","userId","id","post","success"],"sources":["src/views/front/Coach.vue"],"sourcesContent":["<template>\n  <div class=\"main-content\">\n    <!-- Content Section -->\n    <div class=\"content-container\">\n      <div class=\"section-header\">\n        <h2 class=\"section-title\">Our Expert Teachers</h2>\n        <p class=\"section-description\">Learn from our team of certified education professionals</p>\n      </div>\n\n      <!-- Teacher Cards -->\n      <div class=\"teachers-grid\">\n        <el-row :gutter=\"24\">\n          <el-col :xs=\"24\" :sm=\"12\" :md=\"8\" :lg=\"6\" v-for=\"item in coachData\" :key=\"item.id\" class=\"teacher-col\">\n            <div class=\"teacher-card\">\n              <div class=\"teacher-image-container\" @click=\"$router.push('/front/coachDetail?id=' + item.id)\">\n                <img\n                    :src=\"item.avatar\"\n                    alt=\"Teacher Photo\"\n                    class=\"teacher-image\"\n                >\n                <div class=\"image-overlay\">\n                  <span class=\"view-details\">View Profile</span>\n                </div>\n              </div>\n              <div class=\"teacher-info\">\n                <h3 class=\"teacher-name\">{{ item.name }}</h3>\n                <div class=\"teacher-contact\">\n                  <span class=\"phone-info\">\n                    <i class=\"el-icon-phone\"></i>\n                    {{ item.phone }}\n                  </span>\n                </div>\n                <el-button\n                    type=\"primary\"\n                    class=\"enroll-btn\"\n                    @click=\"reserveInit(item.id)\"\n                    round\n                >\n                  <i class=\"el-icon-edit-outline\"></i>\n                  Enroll Now\n                </el-button>\n              </div>\n            </div>\n          </el-col>\n        </el-row>\n      </div>\n    </div>\n\n    <!-- Enrollment Dialog -->\n    <el-dialog\n        title=\"Course Enrollment\"\n        :visible.sync=\"fromVisible\"\n        width=\"500px\"\n        :close-on-click-modal=\"false\"\n        destroy-on-close\n        class=\"enrollment-dialog\"\n    >\n      <el-form label-width=\"120px\" class=\"enrollment-form\">\n        <el-form-item prop=\"content\" label=\"Learning Goals\">\n          <el-input\n              type=\"textarea\"\n              :rows=\"4\"\n              v-model=\"content\"\n              placeholder=\"Tell us about your learning objectives, preferred study methods, or any specific requirements...\"\n              autocomplete=\"off\"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"fromVisible = false\" class=\"cancel-btn\">Cancel</el-button>\n        <el-button type=\"primary\" @click=\"submit\" class=\"submit-btn\">\n          <i class=\"el-icon-check\"></i>\n          Confirm Enrollment\n        </el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\n      coachData: [],\n      content: null,\n      coachId: null,\n      fromVisible: false,\n    }\n  },\n  mounted() {\n    this.loadCoach()\n  },\n  methods: {\n    loadCoach() {\n      this.$request.get('/coach/selectAll').then(res => {\n        if (res.code === '200') {\n          this.coachData = res.data\n        } else {\n          this.$message.error(res.msg)\n        }\n      })\n    },\n    reserveInit(coachId) {\n      if (this.user.role !== 'USER') {\n        this.$message.warning('Access denied: Only students can enroll in courses')\n        return\n      }\n      this.coachId = coachId\n      this.fromVisible = true\n    },\n    submit() {\n      const data = {\n        userId: this.user.id,\n        coachId: this.coachId,\n        content: this.content,\n      }\n      this.$request.post('/reserve/add', data).then(res => {\n        if (res.code === '200') {\n          this.$message.success('Enrollment confirmed! Your teacher will contact you soon.')\n          this.coachId = null\n          this.content = null\n          this.fromVisible = false\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.main-content {\n  min-height: 100vh;\n  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);\n}\n\n/* Content Section */\n.content-container {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 60px 20px;\n}\n\n.section-header {\n  text-align: center;\n  margin-bottom: 50px;\n}\n\n.section-title {\n  font-size: 2.5rem;\n  font-weight: 600;\n  color: #2c3e50;\n  margin-bottom: 15px;\n}\n\n.section-description {\n  font-size: 1.1rem;\n  color: #7f8c8d;\n  max-width: 600px;\n  margin: 0 auto;\n}\n\n/* Teacher Cards */\n.teachers-grid {\n  margin-top: 40px;\n}\n\n.teacher-col {\n  margin-bottom: 30px;\n}\n\n.teacher-card {\n  background: white;\n  border-radius: 20px;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n  transition: all 0.3s ease;\n  height: 100%;\n}\n\n.teacher-card:hover {\n  transform: translateY(-10px);\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);\n}\n\n.teacher-image-container {\n  position: relative;\n  overflow: hidden;\n  cursor: pointer;\n}\n\n.teacher-image {\n  width: 100%;\n  height: 280px;\n  object-fit: cover;\n  transition: transform 0.3s ease;\n  pointer-events: none; /* 防止图片阻挡容器的点击事件 */\n}\n\n.teacher-image-container:hover .teacher-image {\n  transform: scale(1.05);\n}\n\n.image-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n  pointer-events: none; /* 确保覆盖层不会阻挡点击 */\n}\n\n.teacher-image-container:hover .image-overlay {\n  opacity: 1;\n}\n\n.view-details {\n  color: white;\n  font-size: 1.1rem;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n}\n\n.teacher-info {\n  padding: 25px;\n  text-align: center;\n}\n\n.teacher-name {\n  font-size: 1.4rem;\n  font-weight: 600;\n  color: #2c3e50;\n  margin-bottom: 15px;\n}\n\n.teacher-contact {\n  margin-bottom: 20px;\n}\n\n.phone-info {\n  color: #7f8c8d;\n  font-size: 0.95rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n}\n\n.enroll-btn {\n  width: 100%;\n  padding: 12px 0;\n  font-size: 1rem;\n  font-weight: 600;\n  background: linear-gradient(45deg, #4f46e5 0%, #7c3aed 100%);\n  border: none;\n  transition: all 0.3s ease;\n}\n\n.enroll-btn:hover {\n  background: linear-gradient(45deg, #4338ca 0%, #6d28d9 100%);\n  transform: translateY(-2px);\n}\n\n/* Dialog Styles */\n.enrollment-dialog .el-dialog {\n  border-radius: 15px;\n}\n\n.enrollment-dialog .el-dialog__header {\n  background: linear-gradient(45deg, #4f46e5 0%, #7c3aed 100%);\n  color: white;\n  padding: 20px 30px;\n  border-radius: 15px 15px 0 0;\n}\n\n.enrollment-dialog .el-dialog__title {\n  font-size: 1.3rem;\n  font-weight: 600;\n}\n\n.enrollment-form {\n  padding: 30px;\n}\n\n.enrollment-form .el-textarea__inner {\n  border-radius: 10px;\n  border: 2px solid #e9ecef;\n  transition: border-color 0.3s ease;\n}\n\n.enrollment-form .el-textarea__inner:focus {\n  border-color: #4f46e5;\n}\n\n.dialog-footer {\n  padding: 20px 30px;\n  text-align: right;\n  background: #f8f9fa;\n  border-radius: 0 0 15px 15px;\n}\n\n.cancel-btn {\n  margin-right: 15px;\n  padding: 10px 25px;\n  border-radius: 25px;\n}\n\n.submit-btn {\n  padding: 10px 30px;\n  border-radius: 25px;\n  background: linear-gradient(45deg, #4f46e5 0%, #7c3aed 100%);\n  border: none;\n  font-weight: 600;\n}\n\n.submit-btn:hover {\n  background: linear-gradient(45deg, #4338ca 0%, #6d28d9 100%);\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .section-title {\n    font-size: 2rem;\n  }\n\n  .content-container {\n    padding: 40px 15px;\n  }\n\n  .teacher-card {\n    margin-bottom: 20px;\n  }\n}\n\n@media (max-width: 480px) {\n  .enrollment-dialog {\n    width: 90% !important;\n  }\n}\n</style>"],"mappings":"AAgFA;EACAA,KAAA;IACA;MACAC,IAAA,EAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;MACAC,SAAA;MACAC,OAAA;MACAC,OAAA;MACAC,WAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,SAAA;EACA;EACAC,OAAA;IACAD,UAAA;MACA,KAAAE,QAAA,CAAAC,GAAA,qBAAAC,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAX,SAAA,GAAAU,GAAA,CAAAhB,IAAA;QACA;UACA,KAAAkB,QAAA,CAAAC,KAAA,CAAAH,GAAA,CAAAI,GAAA;QACA;MACA;IACA;IACAC,YAAAb,OAAA;MACA,SAAAP,IAAA,CAAAqB,IAAA;QACA,KAAAJ,QAAA,CAAAK,OAAA;QACA;MACA;MACA,KAAAf,OAAA,GAAAA,OAAA;MACA,KAAAC,WAAA;IACA;IACAe,OAAA;MACA,MAAAxB,IAAA;QACAyB,MAAA,OAAAxB,IAAA,CAAAyB,EAAA;QACAlB,OAAA,OAAAA,OAAA;QACAD,OAAA,OAAAA;MACA;MACA,KAAAM,QAAA,CAAAc,IAAA,iBAAA3B,IAAA,EAAAe,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAC,QAAA,CAAAU,OAAA;UACA,KAAApB,OAAA;UACA,KAAAD,OAAA;UACA,KAAAE,WAAA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}