{"ast":null,"code":"export default {\n  name: 'ReservationRecords',\n  data() {\n    return {\n      user: {},\n      tableData: [],\n      pageNum: 1,\n      pageSize: 10,\n      total: 0\n    };\n  },\n  mounted() {\n    this.initUser();\n    this.load(1);\n  },\n  methods: {\n    initUser() {\n      try {\n        const userStr = localStorage.getItem('xm-user');\n        this.user = userStr ? JSON.parse(userStr) : {};\n      } catch (error) {\n        this.user = {};\n      }\n    },\n    load(pageNum) {\n      if (pageNum) this.pageNum = pageNum;\n      this.$request.get('/reserve/selectPage', {\n        params: {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize\n        }\n      }).then(res => {\n        this.tableData = res.data?.list || [];\n        this.total = res.data?.total || 0;\n      }).catch(() => {\n        this.$message.error('Failed to load reservations');\n      });\n    },\n    del(id) {\n      this.$confirm('Are you sure you want to cancel this reservation?', 'Confirm Cancellation', {\n        type: \"warning\",\n        confirmButtonText: 'Yes, Cancel',\n        cancelButtonText: 'No, Keep'\n      }).then(() => {\n        this.$request.delete('/reserve/delete/' + id).then(res => {\n          if (res.code === '200') {\n            this.$message.success('Reservation cancelled successfully');\n            this.load(1);\n          } else {\n            this.$message.error(res.msg || 'Cancellation failed');\n          }\n        }).catch(() => {\n          this.$message.error('Cancellation failed');\n        });\n      }).catch(() => {});\n    },\n    handleCurrentChange(pageNum) {\n      this.load(pageNum);\n    }\n  }\n};","map":{"version":3,"names":["name","data","user","tableData","pageNum","pageSize","total","mounted","initUser","load","methods","userStr","localStorage","getItem","JSON","parse","error","$request","get","params","then","res","list","catch","$message","del","id","$confirm","type","confirmButtonText","cancelButtonText","delete","code","success","msg","handleCurrentChange"],"sources":["src/views/front/Reserve.vue"],"sourcesContent":["<template>\n  <div class=\"main-content\">\n    <div class=\"container\">\n      <!-- Header Section -->\n      <div class=\"header-section\">\n        <h1 class=\"page-title\">My Reservations</h1>\n        <p class=\"page-subtitle\">Total: {{ total }} reservations</p>\n      </div>\n\n      <!-- Table Section -->\n      <div class=\"table-section\">\n        <el-table :data=\"tableData\" stripe class=\"custom-table\">\n          <el-table-column prop=\"id\" label=\"ID\" width=\"80\" align=\"center\" sortable>\n            <template slot-scope=\"scope\">\n              <span class=\"id-badge\">#{{ scope.row.id }}</span>\n            </template>\n          </el-table-column>\n\n          <el-table-column\n              prop=\"userName\"\n              label=\"Client\"\n              show-overflow-tooltip\n              v-if=\"user.role === 'COACH'\">\n            <template slot-scope=\"scope\">\n              <div class=\"user-info\">\n                <i class=\"el-icon-user\"></i>\n                <span>{{ scope.row.userName }}</span>\n              </div>\n            </template>\n          </el-table-column>\n\n          <el-table-column prop=\"coachName\" label=\"Coach\" show-overflow-tooltip>\n            <template slot-scope=\"scope\">\n              <div class=\"coach-info\">\n                <i class=\"el-icon-user-solid\"></i>\n                <span>{{ scope.row.coachName }}</span>\n              </div>\n            </template>\n          </el-table-column>\n\n          <el-table-column prop=\"content\" label=\"Description\" show-overflow-tooltip>\n            <template slot-scope=\"scope\">\n              <div class=\"content-info\">\n                <i class=\"el-icon-document\"></i>\n                <span>{{ scope.row.content }}</span>\n              </div>\n            </template>\n          </el-table-column>\n\n          <el-table-column prop=\"time\" label=\"Created Time\" width=\"180\">\n            <template slot-scope=\"scope\">\n              <div class=\"time-info\">\n                <i class=\"el-icon-time\"></i>\n                <span>{{ scope.row.time }}</span>\n              </div>\n            </template>\n          </el-table-column>\n\n          <el-table-column\n              label=\"Actions\"\n              width=\"150\"\n              align=\"center\"\n              v-if=\"user.role === 'USER'\">\n            <template slot-scope=\"scope\">\n              <el-button\n                  plain\n                  type=\"danger\"\n                  size=\"mini\"\n                  @click=\"del(scope.row.id)\"\n                  icon=\"el-icon-delete\"\n                  class=\"cancel-btn\">\n                Cancel\n              </el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n\n        <!-- Pagination -->\n        <div class=\"pagination-container\">\n          <el-pagination\n              background\n              @current-change=\"handleCurrentChange\"\n              :current-page=\"pageNum\"\n              :page-sizes=\"[5, 10, 20]\"\n              :page-size=\"pageSize\"\n              layout=\"total, prev, pager, next\"\n              :total=\"total\"\n              class=\"custom-pagination\">\n          </el-pagination>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ReservationRecords',\n  data() {\n    return {\n      user: {},\n      tableData: [],\n      pageNum: 1,\n      pageSize: 10,\n      total: 0,\n    }\n  },\n  mounted() {\n    this.initUser()\n    this.load(1)\n  },\n  methods: {\n    initUser() {\n      try {\n        const userStr = localStorage.getItem('xm-user')\n        this.user = userStr ? JSON.parse(userStr) : {}\n      } catch (error) {\n        this.user = {}\n      }\n    },\n    load(pageNum) {\n      if (pageNum) this.pageNum = pageNum\n      this.$request.get('/reserve/selectPage', {\n        params: {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize,\n        }\n      }).then(res => {\n        this.tableData = res.data?.list || []\n        this.total = res.data?.total || 0\n      }).catch(() => {\n        this.$message.error('Failed to load reservations')\n      })\n    },\n    del(id) {\n      this.$confirm('Are you sure you want to cancel this reservation?', 'Confirm Cancellation', {\n        type: \"warning\",\n        confirmButtonText: 'Yes, Cancel',\n        cancelButtonText: 'No, Keep'\n      }).then(() => {\n        this.$request.delete('/reserve/delete/' + id).then(res => {\n          if (res.code === '200') {\n            this.$message.success('Reservation cancelled successfully')\n            this.load(1)\n          } else {\n            this.$message.error(res.msg || 'Cancellation failed')\n          }\n        }).catch(() => {\n          this.$message.error('Cancellation failed')\n        })\n      }).catch(() => {})\n    },\n    handleCurrentChange(pageNum) {\n      this.load(pageNum)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.main-content {\n  background: linear-gradient(135deg, #f3f0ff 0%, #e5d3f7 100%);\n  min-height: 100vh;\n  padding: 40px 0;\n}\n\n.container {\n  width: 85%;\n  max-width: 1400px;\n  margin: 0 auto;\n}\n\n.header-section {\n  background: white;\n  border-radius: 16px;\n  padding: 30px;\n  margin-bottom: 30px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n  text-align: center;\n}\n\n.page-title {\n  font-size: 28px;\n  font-weight: 700;\n  margin: 0 0 8px 0;\n  background: linear-gradient(135deg, #a855f7 0%, #c084fc 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n}\n\n.page-subtitle {\n  color: #6b7280;\n  margin: 0;\n  font-size: 14px;\n}\n\n.table-section {\n  background: white;\n  border-radius: 16px;\n  padding: 30px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n}\n\n.custom-table {\n  border-radius: 8px;\n  overflow: hidden;\n}\n\n.custom-table /deep/ .el-table__header th {\n  background: #faf5ff !important;\n  color: #374151;\n  font-weight: 600;\n  border-bottom: 2px solid #e5e7eb;\n  padding: 16px 12px;\n}\n\n.custom-table /deep/ .el-table__row:hover {\n  background: #faf5ff !important;\n}\n\n.custom-table /deep/ .el-table__row td {\n  padding: 16px 12px;\n}\n\n.id-badge {\n  background: linear-gradient(135deg, #a855f7 0%, #c084fc 100%);\n  color: white;\n  padding: 4px 8px;\n  border-radius: 12px;\n  font-size: 12px;\n  font-weight: 600;\n}\n\n.user-info, .coach-info, .content-info, .time-info {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  color: #4b5563;\n}\n\n.user-info i {\n  color: #3b82f6;\n  font-size: 16px;\n}\n\n.coach-info i {\n  color: #a855f7;\n  font-size: 16px;\n}\n\n.content-info i {\n  color: #10b981;\n  font-size: 16px;\n}\n\n.time-info i {\n  color: #f59e0b;\n  font-size: 16px;\n}\n\n.cancel-btn {\n  border-radius: 15px;\n  font-weight: 600;\n  transition: all 0.3s ease;\n}\n\n.cancel-btn:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);\n}\n\n.pagination-container {\n  display: flex;\n  justify-content: center;\n  margin-top: 30px;\n  padding-top: 20px;\n  border-top: 1px solid #e5e7eb;\n}\n\n.custom-pagination /deep/ .el-pagination {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.custom-pagination /deep/ .el-pager li {\n  border-radius: 8px;\n  margin: 0 2px;\n  transition: all 0.3s ease;\n}\n\n.custom-pagination /deep/ .el-pager li.active {\n  background: linear-gradient(135deg, #a855f7 0%, #c084fc 100%);\n  color: white;\n}\n\n.custom-pagination /deep/ .btn-prev,\n.custom-pagination /deep/ .btn-next {\n  border-radius: 8px;\n  transition: all 0.3s ease;\n}\n\n.custom-pagination /deep/ .btn-prev:hover,\n.custom-pagination /deep/ .btn-next:hover {\n  background: #a855f7;\n  color: white;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .main-content {\n    padding: 20px 0;\n  }\n\n  .container {\n    width: 95%;\n  }\n\n  .header-section,\n  .table-section {\n    padding: 20px;\n  }\n\n  .page-title {\n    font-size: 24px;\n  }\n\n  .custom-table /deep/ .el-table__row td {\n    padding: 12px 8px;\n  }\n\n  .user-info, .coach-info, .content-info, .time-info {\n    font-size: 14px;\n  }\n}\n\n@media (max-width: 576px) {\n  .custom-table /deep/ .el-table__row td {\n    padding: 10px 6px;\n  }\n\n  .cancel-btn {\n    padding: 8px 12px;\n    font-size: 12px;\n  }\n}\n</style>"],"mappings":"AAgGA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,IAAA;MACAC,SAAA;MACAC,OAAA;MACAC,QAAA;MACAC,KAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,QAAA;IACA,KAAAC,IAAA;EACA;EACAC,OAAA;IACAF,SAAA;MACA;QACA,MAAAG,OAAA,GAAAC,YAAA,CAAAC,OAAA;QACA,KAAAX,IAAA,GAAAS,OAAA,GAAAG,IAAA,CAAAC,KAAA,CAAAJ,OAAA;MACA,SAAAK,KAAA;QACA,KAAAd,IAAA;MACA;IACA;IACAO,KAAAL,OAAA;MACA,IAAAA,OAAA,OAAAA,OAAA,GAAAA,OAAA;MACA,KAAAa,QAAA,CAAAC,GAAA;QACAC,MAAA;UACAf,OAAA,OAAAA,OAAA;UACAC,QAAA,OAAAA;QACA;MACA,GAAAe,IAAA,CAAAC,GAAA;QACA,KAAAlB,SAAA,GAAAkB,GAAA,CAAApB,IAAA,EAAAqB,IAAA;QACA,KAAAhB,KAAA,GAAAe,GAAA,CAAApB,IAAA,EAAAK,KAAA;MACA,GAAAiB,KAAA;QACA,KAAAC,QAAA,CAAAR,KAAA;MACA;IACA;IACAS,IAAAC,EAAA;MACA,KAAAC,QAAA;QACAC,IAAA;QACAC,iBAAA;QACAC,gBAAA;MACA,GAAAV,IAAA;QACA,KAAAH,QAAA,CAAAc,MAAA,sBAAAL,EAAA,EAAAN,IAAA,CAAAC,GAAA;UACA,IAAAA,GAAA,CAAAW,IAAA;YACA,KAAAR,QAAA,CAAAS,OAAA;YACA,KAAAxB,IAAA;UACA;YACA,KAAAe,QAAA,CAAAR,KAAA,CAAAK,GAAA,CAAAa,GAAA;UACA;QACA,GAAAX,KAAA;UACA,KAAAC,QAAA,CAAAR,KAAA;QACA;MACA,GAAAO,KAAA;IACA;IACAY,oBAAA/B,OAAA;MACA,KAAAK,IAAA,CAAAL,OAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}