{"ast":null,"code":"export default {\n  name: 'PurchaseRecords',\n  data() {\n    return {\n      user: {},\n      tableData: [],\n      pageNum: 1,\n      pageSize: 10,\n      total: 0\n    };\n  },\n  mounted() {\n    this.initUser();\n    this.load(1);\n  },\n  methods: {\n    initUser() {\n      try {\n        const userStr = localStorage.getItem(\"xm-user\");\n        this.user = userStr ? JSON.parse(userStr) : {};\n      } catch (error) {\n        this.user = {};\n      }\n    },\n    load(pageNum) {\n      if (pageNum) this.pageNum = pageNum;\n      this.$request.get('/orders/selectPage', {\n        params: {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize,\n          userId: this.user.id\n        }\n      }).then(res => {\n        this.tableData = res.data?.list || [];\n        this.total = res.data?.total || 0;\n      }).catch(() => {\n        this.$message.error('Failed to load data');\n      });\n    },\n    del(id) {\n      this.$confirm('Are you sure you want to delete this order?', 'Confirm Delete', {\n        type: \"warning\",\n        confirmButtonText: 'Delete',\n        cancelButtonText: 'Cancel'\n      }).then(() => {\n        this.$request.delete('/orders/delete/' + id).then(res => {\n          if (res.code === '200') {\n            this.$message.success('Deleted successfully');\n            this.load(1);\n          } else {\n            this.$message.error(res.msg || 'Delete failed');\n          }\n        }).catch(() => {\n          this.$message.error('Delete failed');\n        });\n      }).catch(() => {});\n    },\n    handleCurrentChange(pageNum) {\n      this.pageNum = pageNum;\n      this.load(this.pageNum);\n    }\n  }\n};","map":{"version":3,"names":["name","data","user","tableData","pageNum","pageSize","total","mounted","initUser","load","methods","userStr","localStorage","getItem","JSON","parse","error","$request","get","params","userId","id","then","res","list","catch","$message","del","$confirm","type","confirmButtonText","cancelButtonText","delete","code","success","msg","handleCurrentChange"],"sources":["src/views/front/Orders.vue"],"sourcesContent":["<template>\n  <div class=\"main-content\">\n    <div class=\"container\">\n      <!-- Header Section -->\n      <div class=\"header-section\">\n        <h1 class=\"page-title\">My Purchase Records</h1>\n        <p class=\"page-subtitle\">Total: {{ total }} orders</p>\n      </div>\n\n      <!-- Table Section -->\n      <div class=\"table-section\">\n        <el-table :data=\"tableData\" stripe class=\"custom-table\">\n          <el-table-column prop=\"id\" label=\"ID\" width=\"80\" align=\"center\" sortable>\n            <template slot-scope=\"scope\">\n              <span class=\"id-badge\">#{{ scope.row.id }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"courseName\" label=\"Course Name\" show-overflow-tooltip>\n            <template slot-scope=\"scope\">\n              <a :href=\"'/front/courseDetail?id=' + scope.row.courseId\" class=\"course-link\">\n                <i class=\"el-icon-document\"></i>\n                {{ scope.row.courseName }}\n              </a>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"coachName\" label=\"Instructor\" show-overflow-tooltip>\n            <template slot-scope=\"scope\">\n              <a :href=\"'/front/coachDetail?id=' + scope.row.coachId\" class=\"coach-link\">\n                <i class=\"el-icon-user\"></i>\n                {{ scope.row.coachName }}\n              </a>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"orderNo\" label=\"Order Number\" show-overflow-tooltip>\n            <template slot-scope=\"scope\">\n              <span class=\"order-no\">{{ scope.row.orderNo }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"price\" label=\"Price\" show-overflow-tooltip width=\"100\">\n            <template slot-scope=\"scope\">\n              <span class=\"price\">RM {{ scope.row.price }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"time\" label=\"Order Time\" width=\"150\"></el-table-column>\n          <el-table-column label=\"Actions\" width=\"120\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <el-button plain type=\"danger\" size=\"mini\" @click=\"del(scope.row.id)\" icon=\"el-icon-delete\">\n                Delete\n              </el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n\n        <div class=\"pagination-container\">\n          <el-pagination\n              background\n              @current-change=\"handleCurrentChange\"\n              :current-page=\"pageNum\"\n              :page-sizes=\"[5, 10, 20]\"\n              :page-size=\"pageSize\"\n              layout=\"total, prev, pager, next\"\n              :total=\"total\">\n          </el-pagination>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'PurchaseRecords',\n  data() {\n    return {\n      user: {},\n      tableData: [],\n      pageNum: 1,\n      pageSize: 10,\n      total: 0,\n    }\n  },\n  mounted() {\n    this.initUser()\n    this.load(1)\n  },\n  methods: {\n    initUser() {\n      try {\n        const userStr = localStorage.getItem(\"xm-user\")\n        this.user = userStr ? JSON.parse(userStr) : {}\n      } catch (error) {\n        this.user = {}\n      }\n    },\n    load(pageNum) {\n      if (pageNum) this.pageNum = pageNum\n      this.$request.get('/orders/selectPage', {\n        params: {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize,\n          userId: this.user.id\n        }\n      }).then(res => {\n        this.tableData = res.data?.list || []\n        this.total = res.data?.total || 0\n      }).catch(() => {\n        this.$message.error('Failed to load data')\n      })\n    },\n    del(id) {\n      this.$confirm('Are you sure you want to delete this order?', 'Confirm Delete', {\n        type: \"warning\",\n        confirmButtonText: 'Delete',\n        cancelButtonText: 'Cancel'\n      }).then(() => {\n        this.$request.delete('/orders/delete/' + id).then(res => {\n          if (res.code === '200') {\n            this.$message.success('Deleted successfully')\n            this.load(1)\n          } else {\n            this.$message.error(res.msg || 'Delete failed')\n          }\n        }).catch(() => {\n          this.$message.error('Delete failed')\n        })\n      }).catch(() => {})\n    },\n    handleCurrentChange(pageNum) {\n      this.pageNum = pageNum\n      this.load(this.pageNum)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.main-content {\n  background: linear-gradient(135deg, #f3f0ff 0%, #e5d3f7 100%);\n  min-height: 100vh;\n  padding: 40px 0;\n}\n\n.container {\n  width: 85%;\n  max-width: 1400px;\n  margin: 0 auto;\n}\n\n.header-section {\n  background: white;\n  border-radius: 16px;\n  padding: 30px;\n  margin-bottom: 30px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n  text-align: center;\n}\n\n.page-title {\n  font-size: 28px;\n  font-weight: 700;\n  margin: 0 0 8px 0;\n  background: linear-gradient(135deg, #a855f7 0%, #c084fc 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n}\n\n.page-subtitle {\n  color: #6b7280;\n  margin: 0;\n  font-size: 14px;\n}\n\n.table-section {\n  background: white;\n  border-radius: 16px;\n  padding: 30px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n}\n\n.custom-table {\n  border-radius: 8px;\n  overflow: hidden;\n}\n\n.custom-table /deep/ .el-table__header th {\n  background: #faf5ff !important;\n  color: #374151;\n  font-weight: 600;\n  border-bottom: 2px solid #e5e7eb;\n  padding: 16px 12px;\n}\n\n.custom-table /deep/ .el-table__row:hover {\n  background: #faf5ff !important;\n}\n\n.custom-table /deep/ .el-table__row td {\n  padding: 16px 12px;\n}\n\n.id-badge {\n  background: linear-gradient(135deg, #a855f7 0%, #c084fc 100%);\n  color: white;\n  padding: 4px 8px;\n  border-radius: 12px;\n  font-size: 12px;\n  font-weight: 600;\n}\n\n.course-link, .coach-link {\n  color: #a855f7;\n  text-decoration: none;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  transition: color 0.3s ease;\n}\n\n.course-link:hover, .coach-link:hover {\n  color: #7c3aed;\n  text-decoration: underline;\n}\n\n.order-no {\n  font-family: 'Courier New', monospace;\n  background: #f3f4f6;\n  padding: 4px 8px;\n  border-radius: 6px;\n  font-size: 12px;\n  color: #374151;\n}\n\n.price {\n  font-weight: 700;\n  color: #dc2626;\n  font-size: 14px;\n}\n\n.pagination-container {\n  display: flex;\n  justify-content: center;\n  margin-top: 30px;\n  padding-top: 20px;\n  border-top: 1px solid #e5e7eb;\n}\n\n.pagination-container /deep/ .el-pager li.active {\n  background: linear-gradient(135deg, #a855f7 0%, #c084fc 100%);\n  color: white;\n}\n\n/* Responsive */\n@media (max-width: 768px) {\n  .main-content { padding: 20px 0; }\n  .container { width: 95%; }\n  .header-section, .table-section { padding: 20px; }\n  .page-title { font-size: 24px; }\n  .custom-table /deep/ .el-table__row td { padding: 12px 8px; }\n}\n</style>"],"mappings":"AAsEA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,IAAA;MACAC,SAAA;MACAC,OAAA;MACAC,QAAA;MACAC,KAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,QAAA;IACA,KAAAC,IAAA;EACA;EACAC,OAAA;IACAF,SAAA;MACA;QACA,MAAAG,OAAA,GAAAC,YAAA,CAAAC,OAAA;QACA,KAAAX,IAAA,GAAAS,OAAA,GAAAG,IAAA,CAAAC,KAAA,CAAAJ,OAAA;MACA,SAAAK,KAAA;QACA,KAAAd,IAAA;MACA;IACA;IACAO,KAAAL,OAAA;MACA,IAAAA,OAAA,OAAAA,OAAA,GAAAA,OAAA;MACA,KAAAa,QAAA,CAAAC,GAAA;QACAC,MAAA;UACAf,OAAA,OAAAA,OAAA;UACAC,QAAA,OAAAA,QAAA;UACAe,MAAA,OAAAlB,IAAA,CAAAmB;QACA;MACA,GAAAC,IAAA,CAAAC,GAAA;QACA,KAAApB,SAAA,GAAAoB,GAAA,CAAAtB,IAAA,EAAAuB,IAAA;QACA,KAAAlB,KAAA,GAAAiB,GAAA,CAAAtB,IAAA,EAAAK,KAAA;MACA,GAAAmB,KAAA;QACA,KAAAC,QAAA,CAAAV,KAAA;MACA;IACA;IACAW,IAAAN,EAAA;MACA,KAAAO,QAAA;QACAC,IAAA;QACAC,iBAAA;QACAC,gBAAA;MACA,GAAAT,IAAA;QACA,KAAAL,QAAA,CAAAe,MAAA,qBAAAX,EAAA,EAAAC,IAAA,CAAAC,GAAA;UACA,IAAAA,GAAA,CAAAU,IAAA;YACA,KAAAP,QAAA,CAAAQ,OAAA;YACA,KAAAzB,IAAA;UACA;YACA,KAAAiB,QAAA,CAAAV,KAAA,CAAAO,GAAA,CAAAY,GAAA;UACA;QACA,GAAAV,KAAA;UACA,KAAAC,QAAA,CAAAV,KAAA;QACA;MACA,GAAAS,KAAA;IACA;IACAW,oBAAAhC,OAAA;MACA,KAAAA,OAAA,GAAAA,OAAA;MACA,KAAAK,IAAA,MAAAL,OAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}