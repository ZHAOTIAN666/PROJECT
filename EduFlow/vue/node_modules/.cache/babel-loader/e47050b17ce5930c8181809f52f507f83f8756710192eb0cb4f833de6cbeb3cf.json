{"ast":null,"code":"import E from 'wangeditor';\nexport default {\n  data() {\n    return {\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\n      coachId: this.$route.query.id,\n      coachData: {},\n      comment: null,\n      commentData: []\n    };\n  },\n  mounted() {\n    this.loadCoach();\n    this.loadComment();\n  },\n  methods: {\n    loadComment() {\n      this.$request.get('/comment/selectAll', {\n        params: {\n          coachId: this.coachId\n        }\n      }).then(res => {\n        if (res.code === '200') {\n          this.commentData = res.data;\n        } else {\n          this.$message.error(res.msg);\n        }\n      });\n    },\n    loadCoach() {\n      this.$request.get('/coach/selectById/' + this.coachId).then(res => {\n        if (res.code === '200') {\n          this.coachData = res.data;\n        } else {\n          this.$message.error(res.msg);\n        }\n      });\n    },\n    submit() {\n      if (this.user.role !== 'USER') {\n        this.$message.warning('Your role does not support this operation');\n        return;\n      }\n      if (!this.comment) {\n        this.$message.warning('Please enter review content');\n        return;\n      }\n      let data = {\n        userId: this.user.id,\n        coachId: this.coachId,\n        content: this.comment\n      };\n      this.$request.post('/comment/add', data).then(res => {\n        if (res.code === '200') {\n          this.$message.success('Review submitted successfully');\n          this.comment = null;\n          this.loadComment();\n        } else {\n          this.$message.error(res.msg);\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["E","data","user","JSON","parse","localStorage","getItem","coachId","$route","query","id","coachData","comment","commentData","mounted","loadCoach","loadComment","methods","$request","get","params","then","res","code","$message","error","msg","submit","role","warning","userId","content","post","success"],"sources":["src/views/front/CoachDetail.vue"],"sourcesContent":["<template>\n  <div class=\"main-content\">\n    <div class=\"container\">\n      <!-- Coach Details Section -->\n      <div class=\"coach-header\">\n        <h2 class=\"coach-title\">{{ coachData.name }} - Detailed Introduction</h2>\n      </div>\n\n      <div class=\"coach-content\" v-html=\"coachData.content\" class=\"w-e-text w-e-text-container\"></div>\n\n      <!-- Comment Form Section -->\n      <div class=\"comment-section\">\n        <h3 class=\"section-title\">Share Your Review About This Coach:</h3>\n        <div class=\"comment-form\">\n          <el-input\n              type=\"textarea\"\n              :rows=\"5\"\n              v-model=\"comment\"\n              placeholder=\"Please enter your review...\"\n              class=\"comment-input\"\n          ></el-input>\n          <div class=\"submit-container\">\n            <el-button type=\"primary\" @click=\"submit\" class=\"submit-btn\">\n              Submit Review\n            </el-button>\n          </div>\n        </div>\n      </div>\n\n      <!-- Reviews List Section -->\n      <div class=\"reviews-section\">\n        <h3 class=\"section-title\">\n          See What Others Say About This Coach\n          <span class=\"review-count\">({{ commentData.length }})</span>\n        </h3>\n\n        <div class=\"reviews-list\">\n          <div class=\"review-item\" v-for=\"item in commentData\" :key=\"item.id\">\n            <div class=\"review-avatar\">\n              <img :src=\"item.userAvatar\" alt=\"User Avatar\" class=\"avatar-img\">\n              <div class=\"username\">{{ item.userName }}</div>\n            </div>\n            <div class=\"review-content\">\n              <p class=\"review-text\">{{ item.content }}</p>\n            </div>\n            <div class=\"review-time\">\n              <span class=\"time-text\">{{ item.time }}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport E from 'wangeditor'\nexport default {\n  data() {\n    return {\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\n      coachId: this.$route.query.id,\n      coachData: {},\n      comment: null,\n      commentData: []\n    }\n  },\n  mounted() {\n    this.loadCoach()\n    this.loadComment()\n  },\n  methods: {\n    loadComment() {\n      this.$request.get('/comment/selectAll', {\n        params: {\n          coachId: this.coachId\n        }\n      }).then(res => {\n        if (res.code === '200') {\n          this.commentData = res.data\n        } else {\n          this.$message.error(res.msg)\n        }\n      })\n    },\n    loadCoach() {\n      this.$request.get('/coach/selectById/' + this.coachId).then(res => {\n        if (res.code === '200') {\n          this.coachData = res.data\n        } else {\n          this.$message.error(res.msg)\n        }\n      })\n    },\n    submit() {\n      if (this.user.role !== 'USER') {\n        this.$message.warning('Your role does not support this operation')\n        return\n      }\n      if (!this.comment) {\n        this.$message.warning('Please enter review content')\n        return\n      }\n      let data = {\n        userId: this.user.id,\n        coachId: this.coachId,\n        content: this.comment\n      }\n      this.$request.post('/comment/add', data).then(res => {\n        if (res.code === '200') {\n          this.$message.success('Review submitted successfully')\n          this.comment = null\n          this.loadComment()\n        } else {\n          this.$message.error(res.msg)\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* Main Container */\n.main-content {\n  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);\n  min-height: 100vh;\n  padding: 20px 0;\n}\n\n.container {\n  max-width: 900px;\n  margin: 0 auto;\n  background: white;\n  border-radius: 20px;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n}\n\n/* Coach Header */\n.coach-header {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  padding: 40px;\n  text-align: center;\n}\n\n.coach-title {\n  color: white;\n  font-size: 28px;\n  font-weight: 700;\n  margin: 0;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n}\n\n/* Coach Content */\n.coach-content {\n  padding: 40px;\n  line-height: 1.8;\n  font-size: 16px;\n  color: #444;\n  border-bottom: 1px solid #eee;\n}\n\n/* Comment Section */\n.comment-section {\n  padding: 40px;\n  background: #fafbfc;\n  border-bottom: 1px solid #eee;\n}\n\n.section-title {\n  font-size: 20px;\n  font-weight: 600;\n  color: #2c3e50;\n  margin-bottom: 25px;\n  position: relative;\n  padding-left: 20px;\n}\n\n.section-title::before {\n  content: '';\n  position: absolute;\n  left: 0;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 4px;\n  height: 20px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border-radius: 2px;\n}\n\n.comment-form {\n  background: white;\n  padding: 25px;\n  border-radius: 15px;\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);\n}\n\n.comment-input {\n  margin-bottom: 15px;\n}\n\n.comment-input ::v-deep .el-textarea__inner {\n  border-radius: 10px;\n  border: 2px solid #e1e8ed;\n  padding: 15px;\n  font-size: 14px;\n  line-height: 1.6;\n  transition: all 0.3s ease;\n}\n\n.comment-input ::v-deep .el-textarea__inner:focus {\n  border-color: #667eea;\n  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\n}\n\n.submit-container {\n  text-align: right;\n}\n\n.submit-btn {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border: none;\n  border-radius: 25px;\n  padding: 12px 30px;\n  font-weight: 600;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);\n}\n\n.submit-btn:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);\n}\n\n/* Reviews Section */\n.reviews-section {\n  padding: 40px;\n}\n\n.review-count {\n  color: #667eea;\n  font-weight: 500;\n}\n\n.reviews-list {\n  margin-top: 30px;\n}\n\n.review-item {\n  display: flex;\n  align-items: flex-start;\n  padding: 25px;\n  background: white;\n  border-radius: 15px;\n  margin-bottom: 20px;\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);\n  transition: all 0.3s ease;\n  border-left: 4px solid transparent;\n}\n\n.review-item:hover {\n  transform: translateY(-3px);\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);\n  border-left-color: #667eea;\n}\n\n.review-avatar {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-right: 20px;\n  min-width: 80px;\n}\n\n.avatar-img {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  object-fit: cover;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  margin-bottom: 8px;\n}\n\n.username {\n  font-size: 14px;\n  font-weight: 600;\n  color: #2c3e50;\n  text-align: center;\n}\n\n.review-content {\n  flex: 1;\n  margin-right: 20px;\n}\n\n.review-text {\n  margin: 0;\n  line-height: 1.6;\n  color: #444;\n  font-size: 15px;\n}\n\n.review-time {\n  min-width: 120px;\n  text-align: right;\n}\n\n.time-text {\n  color: #8e9aaf;\n  font-size: 13px;\n  font-weight: 500;\n}\n\n/* Global Styles */\np {\n  color: #444;\n  line-height: 1.7;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .container {\n    margin: 0 10px;\n    border-radius: 15px;\n  }\n\n  .coach-header,\n  .comment-section,\n  .reviews-section,\n  .coach-content {\n    padding: 25px;\n  }\n\n  .coach-title {\n    font-size: 22px;\n  }\n\n  .review-item {\n    flex-direction: column;\n    text-align: center;\n  }\n\n  .review-avatar {\n    margin-right: 0;\n    margin-bottom: 15px;\n    flex-direction: row;\n    justify-content: center;\n  }\n\n  .review-content {\n    margin-right: 0;\n    margin-bottom: 10px;\n  }\n\n  .review-time {\n    text-align: center;\n  }\n}\n</style>"],"mappings":"AAwDA,OAAAA,CAAA;AACA;EACAC,KAAA;IACA;MACAC,IAAA,EAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;MACAC,OAAA,OAAAC,MAAA,CAAAC,KAAA,CAAAC,EAAA;MACAC,SAAA;MACAC,OAAA;MACAC,WAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,SAAA;IACA,KAAAC,WAAA;EACA;EACAC,OAAA;IACAD,YAAA;MACA,KAAAE,QAAA,CAAAC,GAAA;QACAC,MAAA;UACAb,OAAA,OAAAA;QACA;MACA,GAAAc,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAV,WAAA,GAAAS,GAAA,CAAArB,IAAA;QACA;UACA,KAAAuB,QAAA,CAAAC,KAAA,CAAAH,GAAA,CAAAI,GAAA;QACA;MACA;IACA;IACAX,UAAA;MACA,KAAAG,QAAA,CAAAC,GAAA,6BAAAZ,OAAA,EAAAc,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAZ,SAAA,GAAAW,GAAA,CAAArB,IAAA;QACA;UACA,KAAAuB,QAAA,CAAAC,KAAA,CAAAH,GAAA,CAAAI,GAAA;QACA;MACA;IACA;IACAC,OAAA;MACA,SAAAzB,IAAA,CAAA0B,IAAA;QACA,KAAAJ,QAAA,CAAAK,OAAA;QACA;MACA;MACA,UAAAjB,OAAA;QACA,KAAAY,QAAA,CAAAK,OAAA;QACA;MACA;MACA,IAAA5B,IAAA;QACA6B,MAAA,OAAA5B,IAAA,CAAAQ,EAAA;QACAH,OAAA,OAAAA,OAAA;QACAwB,OAAA,OAAAnB;MACA;MACA,KAAAM,QAAA,CAAAc,IAAA,iBAAA/B,IAAA,EAAAoB,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAC,QAAA,CAAAS,OAAA;UACA,KAAArB,OAAA;UACA,KAAAI,WAAA;QACA;UACA,KAAAQ,QAAA,CAAAC,KAAA,CAAAH,GAAA,CAAAI,GAAA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}