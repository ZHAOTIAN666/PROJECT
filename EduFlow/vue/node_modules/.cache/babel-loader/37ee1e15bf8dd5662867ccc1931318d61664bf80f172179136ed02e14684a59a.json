{"ast":null,"code":"import E from 'wangeditor';\nexport default {\n  data() {\n    return {\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\n      coachId: this.$route.query.id,\n      coachData: {},\n      comment: null,\n      commentData: []\n    };\n  },\n  mounted() {\n    this.loadCoach();\n    this.loadComment();\n  },\n  methods: {\n    loadComment() {\n      this.$request.get('/comment/selectAll', {\n        params: {\n          coachId: this.coachId\n        }\n      }).then(res => {\n        if (res.code === '200') {\n          this.commentData = res.data;\n        } else {\n          this.$message.error(res.msg);\n        }\n      });\n    },\n    loadCoach() {\n      this.$request.get('/coach/selectById/' + this.coachId).then(res => {\n        if (res.code === '200') {\n          this.coachData = res.data;\n        } else {\n          this.$message.error(res.msg);\n        }\n      });\n    },\n    submit() {\n      if (this.user.role !== 'USER') {\n        this.$message.warning('Only students can submit reviews');\n        return;\n      }\n      if (!this.comment) {\n        this.$message.warning('Please enter review content');\n        return;\n      }\n      let data = {\n        userId: this.user.id,\n        coachId: this.coachId,\n        content: this.comment\n      };\n      this.$request.post('/comment/add', data).then(res => {\n        if (res.code === '200') {\n          this.$message.success('Teacher review submitted successfully');\n          this.comment = null;\n          this.loadComment();\n        } else {\n          this.$message.error(res.msg);\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["E","data","user","JSON","parse","localStorage","getItem","coachId","$route","query","id","coachData","comment","commentData","mounted","loadCoach","loadComment","methods","$request","get","params","then","res","code","$message","error","msg","submit","role","warning","userId","content","post","success"],"sources":["src/views/front/CoachDetail.vue"],"sourcesContent":["<template>\n  <div class=\"main-content\">\n    <div class=\"container\">\n      <div class=\"teacher-title\">{{ coachData.name }} - Detailed Introduction</div>\n      <div class=\"teacher-content\" v-html=\"coachData.content\"></div>\n      <div class=\"section-title\">Please share your review about this teacher:</div>\n      <div class=\"comment-form\">\n        <el-input type=\"textarea\" :rows=\"5\" v-model=\"comment\" placeholder=\"Please enter your review about this teacher...\"></el-input>\n        <div class=\"submit-container\">\n          <el-button type=\"primary\" @click=\"submit\">Submit Review</el-button>\n        </div>\n      </div>\n      <div class=\"section-title\">See what others say about this teacher ({{commentData.length}})</div>\n      <div class=\"reviews-container\">\n        <el-row :gutter=\"10\" v-for=\"item in commentData\" :key=\"item.id\" class=\"review-row\">\n          <el-col :span=\"4\">\n            <div class=\"user-info\">\n              <img :src=\"item.userAvatar\" alt=\"\" class=\"user-avatar\">\n              <div class=\"user-name\">{{item.userName}}</div>\n            </div>\n          </el-col>\n          <el-col :span=\"15\">\n            <div class=\"review-content\">{{item.content}}</div>\n          </el-col>\n          <el-col :span=\"5\">\n            <div class=\"review-time\">{{item.time}}</div>\n          </el-col>\n        </el-row>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport E from 'wangeditor'\nexport default {\n  data() {\n    return {\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\n      coachId: this.$route.query.id,\n      coachData: {},\n      comment: null,\n      commentData: []\n    }\n  },\n  mounted() {\n    this.loadCoach()\n    this.loadComment()\n  },\n  methods: {\n    loadComment() {\n      this.$request.get('/comment/selectAll', {\n        params: {\n          coachId: this.coachId\n        }\n      }).then(res => {\n        if (res.code === '200') {\n          this.commentData = res.data\n        } else {\n          this.$message.error(res.msg)\n        }\n      })\n    },\n    loadCoach() {\n      this.$request.get('/coach/selectById/' + this.coachId).then(res => {\n        if (res.code === '200') {\n          this.coachData = res.data\n        } else {\n          this.$message.error(res.msg)\n        }\n      })\n    },\n    submit() {\n      if (this.user.role !== 'USER') {\n        this.$message.warning('Only students can submit reviews')\n        return\n      }\n      if (!this.comment) {\n        this.$message.warning('Please enter review content')\n        return\n      }\n      let data = {\n        userId: this.user.id,\n        coachId: this.coachId,\n        content: this.comment\n      }\n      this.$request.post('/comment/add', data).then(res => {\n        if (res.code === '200') {\n          this.$message.success('Teacher review submitted successfully')\n          this.comment = null\n          this.loadComment()\n        } else {\n          this.$message.error(res.msg)\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.main-content {\n  background: #f5f7fa;\n  min-height: 100vh;\n  padding: 20px 0;\n}\n\n.container {\n  width: 65%;\n  margin: 20px auto;\n  background: white;\n  padding: 30px;\n  border-radius: 10px;\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);\n}\n\n.teacher-title {\n  margin-top: 20px;\n  font-size: 18px;\n  font-weight: bold;\n  color: #666666;\n  border-bottom: 2px solid #eee;\n  padding-bottom: 10px;\n}\n\n.teacher-content {\n  margin-top: 20px;\n  line-height: 1.6;\n}\n\n.section-title {\n  font-size: 17px;\n  font-weight: bold;\n  margin: 30px 0 20px 0;\n  color: #6366f1;\n}\n\n.comment-form {\n  margin-bottom: 20px;\n}\n\n.submit-container {\n  margin-top: 10px;\n  text-align: right;\n}\n\n.reviews-container {\n  margin: 40px 0 100px 0;\n}\n\n.review-row {\n  margin-bottom: 30px;\n  padding: 15px;\n  background: #fafafa;\n  border-radius: 8px;\n  transition: all 0.3s ease;\n}\n\n.review-row:hover {\n  background: #f0f0f0;\n  transform: translateY(-2px);\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n}\n\n.user-info {\n  display: flex;\n  align-items: center;\n}\n\n.user-avatar {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  object-fit: cover;\n}\n\n.user-name {\n  margin-left: 10px;\n  font-weight: 500;\n}\n\n.review-content {\n  line-height: 40px;\n  color: #333;\n}\n\n.review-time {\n  line-height: 40px;\n  text-align: right;\n  color: #999;\n  font-size: 14px;\n}\n\n/* 保持原有的编辑器样式 */\n.w-e-text-container {\n  line-height: 1.6;\n}\n\np {\n  color: #333333;\n}\n</style>"],"mappings":"AAkCA,OAAAA,CAAA;AACA;EACAC,KAAA;IACA;MACAC,IAAA,EAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;MACAC,OAAA,OAAAC,MAAA,CAAAC,KAAA,CAAAC,EAAA;MACAC,SAAA;MACAC,OAAA;MACAC,WAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,SAAA;IACA,KAAAC,WAAA;EACA;EACAC,OAAA;IACAD,YAAA;MACA,KAAAE,QAAA,CAAAC,GAAA;QACAC,MAAA;UACAb,OAAA,OAAAA;QACA;MACA,GAAAc,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAV,WAAA,GAAAS,GAAA,CAAArB,IAAA;QACA;UACA,KAAAuB,QAAA,CAAAC,KAAA,CAAAH,GAAA,CAAAI,GAAA;QACA;MACA;IACA;IACAX,UAAA;MACA,KAAAG,QAAA,CAAAC,GAAA,6BAAAZ,OAAA,EAAAc,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAZ,SAAA,GAAAW,GAAA,CAAArB,IAAA;QACA;UACA,KAAAuB,QAAA,CAAAC,KAAA,CAAAH,GAAA,CAAAI,GAAA;QACA;MACA;IACA;IACAC,OAAA;MACA,SAAAzB,IAAA,CAAA0B,IAAA;QACA,KAAAJ,QAAA,CAAAK,OAAA;QACA;MACA;MACA,UAAAjB,OAAA;QACA,KAAAY,QAAA,CAAAK,OAAA;QACA;MACA;MACA,IAAA5B,IAAA;QACA6B,MAAA,OAAA5B,IAAA,CAAAQ,EAAA;QACAH,OAAA,OAAAA,OAAA;QACAwB,OAAA,OAAAnB;MACA;MACA,KAAAM,QAAA,CAAAc,IAAA,iBAAA/B,IAAA,EAAAoB,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAC,QAAA,CAAAS,OAAA;UACA,KAAArB,OAAA;UACA,KAAAI,WAAA;QACA;UACA,KAAAQ,QAAA,CAAAC,KAAA,CAAAH,GAAA,CAAAI,GAAA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}